/* ===================================
   ANIMATIONS
   Keyframe Animations & Transitions
   =================================== */

/* =========================
   ENTRANCE ANIMATIONS
   ========================= */
@keyframes slideIn {
  from { 
    opacity: 0; 
    transform: translateX(-20px); 
  }
  to { 
    opacity: 1; 
    transform: translateX(0); 
  }
}

@keyframes slideInItem {
  from { 
    opacity: 0; 
    transform: translateY(10px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

/* Stagger delays for search results */
.search-result-item:nth-child(1) { animation-delay: 0.05s; }
.search-result-item:nth-child(2) { animation-delay: 0.1s; }
.search-result-item:nth-child(3) { animation-delay: 0.15s; }
.search-result-item:nth-child(4) { animation-delay: 0.2s; }
.search-result-item:nth-child(5) { animation-delay: 0.25s; }
.search-result-item:nth-child(6) { animation-delay: 0.3s; }
.search-result-item:nth-child(7) { animation-delay: 0.35s; }
.search-result-item:nth-child(8) { animation-delay: 0.4s; }
.search-result-item:nth-child(9) { animation-delay: 0.45s; }
.search-result-item:nth-child(10) { animation-delay: 0.5s; }

/* =========================
   DROPDOWN ANIMATIONS
   ========================= */
@keyframes dropdown-enter {
  0% { 
    opacity: 0; 
    transform: scale(0.8); 
  }
  60% { 
    opacity: 1; 
    transform: scale(1.05); 
  }
  100% { 
    opacity: 1; 
    transform: scale(1); 
  }
}

@keyframes dropdown-exit {
  from { 
    opacity: 1; 
    transform: scale(1); 
  }
  to { 
    opacity: 0; 
    transform: scale(0.95); 
  }
}

/* =========================
   POPUP ANIMATIONS
   ========================= */
@keyframes popup-open {
  0% { 
    opacity: 0; 
    transform: scale(0.5); 
  }
  100% { 
    opacity: 1; 
    transform: scale(1); 
  }
}

@keyframes popup-close {
  0% { 
    opacity: 1; 
    transform: scale(1); 
  }
  100% { 
    opacity: 0; 
    transform: scale(0.8); 
  }
}

/* =========================
   ICON ANIMATIONS
   ========================= */

/* Sidebar Icon Animation - Spring Effect */
.btn-toggle-sidebar svg .icon-sidebar-line,
.btn-toggle-sidebar svg .icon-chevron {
  transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.btn-toggle-sidebar:hover svg .icon-sidebar-line {
  transform: translateX(2px);
}

.btn-toggle-sidebar:hover svg .icon-chevron {
  transform: translateX(2px);
}

/* Animated Panel Left Open Icon */
.icon-panel-left-open-anim {
  display: flex;
  align-items: center;
  justify-content: center;
}

.icon-panel-left-open-anim .icon-sidebar-line {
  transition: opacity 0.3s ease;
  opacity: 0.5;
}

.icon-panel-left-open-anim .icon-chevron {
  transition: transform 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
  transform: translateX(-2px);
  transform-origin: center;
}

.btn-toggle-sidebar:hover .icon-sidebar-line {
  opacity: 1;
}

.btn-toggle-sidebar:hover .icon-chevron {
  transform: translateX(2px);
}

/* Circle X Icons Animation */
.btn-clear-route svg,
#btn-close-nav svg,
.panel-close-btn svg {
  transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  transform-origin: center;
}

.btn-clear-route:hover svg,
#btn-close-nav:hover svg,
.panel-close-btn:hover svg {
  transform: rotate(90deg) scale(1.1);
  color: #ff3b30;
}

#btn-close-nav:hover svg,
.panel-close-btn:hover svg {
  color: var(--text-main);
}

/* Settings Button Animation Rules */
#btn-settings {
    /* MENGGUNAKAN EFEK BOUNCY (Sama seperti Sidebar) */
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    transform-origin: center;
}

#btn-settings svg {
    transform-origin: center;
    transform: rotate(0deg);
    transition: transform 1.2s cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* Animasi saat active (Menu terbuka) */
#btn-settings.active svg {
    transform: rotate(180deg);
}

/* Animasi hover saat tidak active */
#btn-settings:not(.active):hover svg {
    transform: rotate(90deg);
    transition: transform 0.4s cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* Kembali ke posisi semula */
#btn-settings:not(.active):not(:hover) svg {
    transform: rotate(0deg);
    transition: transform 0.5s cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* EFEK SCALE HOVER (Disamakan dengan Sidebar) */
#btn-settings:hover {
    transform: scale(1.15); /* Diubah dari 1.05 menjadi 1.15 */
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12); /* Menambah shadow saat hover */
}

/* Efek Klik */
#btn-settings:active {
    transform: scale(0.95);
}

/* Optional: Animasi loading/processing */
@keyframes rotate-continuous {
    from { 
        transform: rotate(0deg);
    }
    to { 
        transform: rotate(360deg);
    }
}

#btn-settings.loading svg {
    animation: rotate-continuous 2s linear infinite;
}

/* Optional: Prefers-reduced-motion untuk aksesibilitas */
@media (prefers-reduced-motion: reduce) {
    #btn-settings svg,
    #btn-settings {
        animation: none !important;
        transition: none !important;
    }
    
    #btn-settings svg {
        transform: rotate(0deg) !important;
    }
}